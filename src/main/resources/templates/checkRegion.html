<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Runnity 지역 선택</title>
  <script
      th:src="@{|https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=${naverClientId}&submodules=geocoder|}"
      type="text/javascript"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        rel="stylesheet"/>
  <link rel="stylesheet" th:href="@{/css/footer.css}">
  <link rel="stylesheet" th:href="@{/css/checkRegion.css}">
</head>
<body>
<header>
  <a class="d-flex align-items-center text-decoration-none" th:href="@{/}">
    <i class="fa-solid fa-person-running text-primary fs-4 me-2"></i>
    <span class="fw-bold fs-5 text-primary">Runnity</span>
  </a>
</header>

<div class="check-region-container">
  <div class="location-section">
    <h2>내 위치 설정</h2>
    <form id="setRegion" method="post" style="display: none" th:action="@{/userInfo/region/update}">
      <input id="lat" name="lat" type="hidden">
      <input id="lng" name="lng" type="hidden">
      <input id="address" name="address" type="hidden">
    </form>
    <div class="location-search">
      <input id="searchInput" placeholder="현재 주소를 입력해 주세요(ex. ~구/~동)" type="text">
      <button class="set-location-btn" id="searchBtn">검색</button>
      <button class="set-location-btn" id="currentBtn">내 위치 설정</button>
    </div>

    <div class="map-container">
      <div class="map" id="map"></div>
      <div class="map-info" id="info">지도에서 내 위치를 선택하세요</div>

    </div>

    <button class="join-btn" form="setRegion" type="submit">저장</button>


  </div>
</div>
<!-- Footer -->
<div th:replace="partials/footer :: footer"></div>
<script th:inline="javascript">
  window.currentAddress =/*[[${currentAddress}]]*/ null;
  window.currentLat = /*[[${currentLat}]]*/ 0;
  window.currentLng = /*[[${currentLng}]]*/ 0;

</script>
<script defer th:src="@{/js/mapAPI.js}"></script>
</body>
</html>